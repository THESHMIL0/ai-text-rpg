// === Updated Village Location ===
function village() {
  story.textContent = "Welcome to the village. What do you want to do?";
  setChoices([
    { text: "🛍 Visit the shop", action: shop },
    { text: "🛌 Rest", action: rest },
    { text: "🚪 Leave", action: startGame }
  ]);
}

// === New Shop Functions ===
function shop() {
  story.textContent = "Welcome to the village shop. What do you want to buy?";
  setChoices([
    { text: "🧪 Buy Potion (5 gold)", action: buyPotion },
    { text: "❤️ Heal (10 gold)", action: healPlayer },
    { text: "💪 Increase Strength (20 gold)", action: buyStrength },
    { text: "🚪 Leave Shop", action: village }
  ]);
}

function buyPotion() {
  if (gold >= 5) {
    gold -= 5;
    potions++;
    story.textContent = "You bought a potion!";
  } else {
    story.textContent = "Not enough gold!";
  }
  updateStats();
  shop(); // Return to the shop menu
}

function healPlayer() {
  if (gold >= 10) {
    gold -= 10;
    playerHP = maxHP;
    story.textContent = "You are fully healed!";
  } else {
    story.textContent = "Not enough gold!";
  }
  updateStats();
  shop();
}

function buyStrength() {
  if (gold >= 20) {
    gold -= 20;
    strength++;
    story.textContent = "Your strength has increased!";
  } else {
    story.textContent = "Not enough gold!";
  }
  updateStats();
  shop();
}
